<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Invoice Insert - Varshith Interior Solution</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script async src="https://docs.opencv.org/4.x/opencv.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>Invoice Insert - Varshith Interior Solution</h1>
</header>

<div class="container">

  <section>
    <h2>Client & Invoice Details</h2>
    <div class="invoice-details">
      <label>Client Name: <input type="text" id="clientName" placeholder="Enter client name" /></label>
      <label>Invoice Number: <input type="text" id="invoiceNumber" placeholder="Enter invoice number" /></label>
      <label>Date: <input type="date" id="invoiceDate" /></label>
    </div>
  </section>

  <section>
    <h2>Invoice Items</h2>
    <div class="controls">
      <table id="invoiceTable">
        <thead>
          <tr>
            <th>Sl No</th>
            <th>Item Name</th>
            <th>Material Used</th>
            <th>Price (₹)</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="invoiceBody">
          <tr>
            <td>1</td>
            <td><input type="text" value="TV Unit" /></td>
            <td><input type="text" value="Plywood" /></td>
            <td><input type="number" value="10000" class="price" /></td>
            <td><button onclick="deleteRow(this)">Delete</button></td>
          </tr>
        </tbody>
      </table>
      <button onclick="addRow()">Add Item</button>
      <button onclick="previewInvoice()">Preview Invoice</button>
      <button onclick="downloadPDF()">Download PDF Invoice</button>
      <input type="file" accept=".json" onchange="loadInvoice(this)" />
    </div>

    <div id="totals">
      <p><strong>Total:</strong> ₹<span id="totalAmount">0</span></p>
      <p><strong>GST (18%):</strong> ₹<span id="gstAmount">0</span></p>
      <p><strong>Final Total:</strong> ₹<span id="finalAmount">0</span></p>
    </div>
  </section>

  <section>
    <h2>Upload 2D Floor Plan and Generate 3D Design</h2>
    <input type="file" id="imageUpload" accept="image/*" />
    <button onclick="generate3D()">Generate 3D Design</button>
    <canvas id="inputCanvas" style="display:none;"></canvas>
    <canvas id="threeCanvas"></canvas>
  </section>

</div>

<footer>
  <div>Address: NO 39 BRN Ashish Layout Near Sri Thimmaraya Swami Gudi Anekal - 562106</div>
  <div>Phone: +91 9916511599 & +91 8553608981</div>
</footer>

<script src="script.js"></script>
</body>
</html>
